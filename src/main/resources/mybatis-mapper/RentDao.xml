<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
   PUBLIC "-//mybatis.org/DTD Mapper 3.0/EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
<mapper namespace="com.hoon.bookmanagement.dao.RentDao">

	<!-- Rent SQL -->
	<insert id="rentDao">
		insert into book_rent(rid, rname, raddr, rtel, remail, risbn, rtitle, rauthor, rpublisher, rprice, rntdate, rtrndate, rimage) 
		values(#{param1},#{param2},#{param3},#{param4},#{param5},#{param6},#{param7},#{param8},#{param9},#{param10},#{param11},#{param12},#{param13})
	</insert>
	<select id="rentListDao" resultType="com.hoon.bookmanagement.dto.RentDto">
		select * from book_rent where rid=#{param1} order by risbn desc
	</select>
	<select id="mng_RentListDao" resultType="com.hoon.bookmanagement.dto.RentDto">
		select * from book_rent order by risbn desc
	</select>
	<update id="rentStatusReviseDao">
		update book_rent set rent=#{param1}, rdate=#{param2} where risbn=#{param3}
	</update>
	<select id="returnCheckDao" resultType="com.hoon.bookmanagement.dto.RentDto">
		select * from book_rent where risbn = #{param1} and rent = 1
	</select>
	<delete id="rentCancelDao">
		delete from book_rent where risbn=#{param1}
	</delete>
	<select id="extensionDao" resultType="com.hoon.bookmanagement.dto.RentDto">
		select * from book_rent where risbn = #{param1} and rent=1
	</select>
	<update id="dateExtensionDao">
		update book_rent set rtrndate=#{param1} where risbn=#{param2}
	</update>
</mapper>